# 📈 '최강의 현금 대체' TAA 전략 (Sharpe 1.28)

2004년 11월부터 2024년 12월까지 20년간의 데이터를 기반으로 백테스트 및 최적화된 '전술적 자산 배분(TAA)' 전략입니다.

이 전략은 **"이중 방어 시스템"**을 갖추고 있습니다.
1.  **개별 자산 방어:** 3-MA(이동평균) 룰을 통해 개별 자산의 하락을 감지하여 안전 자산(`SGOV`)으로 대피시킵니다.
2.  **채권 환경 방어:** 'Tactical_Bond'가 금리 환경에 맞춰 `IEF`(방어형) 또는 `TLT`(공격형)로 자동 변신합니다.

---

## 🏆 포트폴리오 성과 (2004-11-19 ~ 2024-12-31)

| 지표 | 성과 |
| :--- | :--- |
| **샤프 지수 (Sharpe Ratio)** | **1.28** |
| **연평균 수익률 (CAGR)** | **8.81%** |
| **최대 낙폭 (MDD)** | **-10.04%** |
| **연평균 변동성** | 6.87% |

---

## ⚙️ 전략의 3가지 핵심 룰

### 1. 📊 기본 자산 비중 (Base Weights)
이 포트폴리오는 3가지 핵심 자산의 "기본 비중"을 설정합니다.

* `QQQ` (성장주): **40.66%**
* `GLD` (금): **20.17%**
* `Tactical_Bond` (스마트 채권): **39.17%**

### 2. 🚦 MA 현금화 룰 (The "Brake")
'기본 비중'은 매일 3-MA(이동평균) 룰에 따라 "실제 투자 비중"으로 조절됩니다.

* **기준:** `20일`, `120일`, `200일` 이동평균선
* **룰 (시나리오 A):** 각 자산이 몇 개의 MA 선 위에 있는지 계산합니다.

| MA 신호 | 실제 투자 비중 |
| :--- | :--- |
| 3개 선 **모두 위** | **100%** (예: QQQ 40.66% 전액 투자) |
| 2개 선 **위에** | **75%** (예: QQQ 30.5% 투자) |
| 1개 선 **위에** | **50%** (예: QQQ 20.3% 투자) |
| 3개 선 **모두 아래** | **0%** (투자 안함) |

### 3. 🛡️ 현금 대체 룰 (The "Safety Net")
가장 중요한 룰입니다. 2번 룰에 따라 **투자되지 않고 남은 "현금" 비중**은 0%로 노는 것이 아니라, **모두 `SGOV`(초단기채)에 투자**됩니다.

* **(예시)** QQQ가 1개 선 위에만 있어 50%(20.3%)만 투자될 때, 남은 50%(20.3%) 비중은 `SGOV`로 자동 투자됩니다.
* **(효과)** 2022년~2023년 같은 고금리 시기에, 방어를 위해 빠져나온 현금이 **연 4~5%의 이자 수익**을 창출하여 CAGR(수익)과 샤프 지수(효율)를 극대화했습니다.

---

##  bond 'Tactical_Bond'의 작동 기준
`Tactical_Bond` (기본 비중 39.17%)는 금리 추세에 따라 자동으로 변신합니다.

* **기준 지표:** 미국 10년물 국채 금리 (`^TNX`)
* **기준선:** `^TNX`의 200일 이동평균선 (200일 MA)

| 금리 환경 | 조건 | 'Tactical_Bond'는... |
| :--- | :--- | :--- |
| **📉 금리 하락기** (수익 극대화) | `^TNX` < 200일 MA | **`TLT`** (20년+ 초장기채)가 됨 |
| **📈 금리 상승기** (위험 방어) | `^TNX` > 200일 MA | **`IEF`** (7-10년 중기채)가 됨 |

---

## 🚀 사용 방법

### 1. 환경 설정
이 프로젝트를 실행하려면 Python 라이브러리가 필요합니다.

```bash
# 이 저장소를 복제(Clone)합니다
git clone [Your_Repository_URL]
cd [Your_Repository_Name]

# 필요한 라이브러리를 설치합니다
pip install -r requirements.txt
```

### 2. 일일 신호 확인
터미널에서 Python 스크립트를 실행합니다.

```bash
python daily_signal_generator.py
```

### 3. (선택) 자동 알림
매일 아침 8시에 이 스크립트를 자동으로 실행하도록 설정할 수 있습니다.
* **Linux/Mac:** `crontab` 사용
* **Windows:** `작업 스케줄러` 사용

스크립트 하단의 텔레그램 봇 API 부분을 활성화하면, 계산된 리포트를 텔레그램으로 전송할 수 있습니다.

---

## ⚠️ 면책 조항
이 전략은 2004년부터 2024년까지의 과거 데이터를 기반으로 최적화되었습니다. 과거의 성과가 미래의 수익을 보장하지 않습니다. 이 코드는 교육 및 정보 제공 목적으로만 사용되어야 하며, 모든 투자의 책임은 본인에게 있습니다.
